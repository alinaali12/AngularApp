
<div class="container container-table">
  <div class="row h-100 justify-content-center">
    <div class="signin">
      <div class="card-group">
        
        <div class="card orange-pic"> 
          <!-- picture here -->
          <div class="card-body text-center">
            <font face="Comic sans MS" size="15">Welcome</font>
            <p class="right-side">Learning to build website.</p>
            <p class="right-side">Implementing back-end and front-end</p>
          </div>
        </div>

        <!-- Actual login form -->
        <div class="card"> 
          <div class="card-body text-center">
            <h4>Welcome to an Amazing place </h4>
            <h2>SIGN IN</h2>
            <p class="last-heading">Welcome to First Design</p>

            <form name="loginForm" [formGroup]="loginForm"  ng-model="currentUser" *ngIf="resettingPassword==false; else emailSent">
              <div class="col-md-12">
                <label class="error-label" *ngIf = "credentialsValid==false " >Invalid Username or Password</label>
              </div>


              <div class="form-group" [class.has-error]="f.useremail.invalid && f.useremail.touched" [class.has-success]="f.useremail.valid">
                <label class="col-md-12 control-label" for="useremail">Email:</label>
                <div class="col-md-12 inputs">
                  <!-- <input class="form-control" formControlName="pwd" type="password" name="pwd" placeholder="password"  [(ngModel)]="currentUser.stringPassword" [ngClass]="{ 'is-invalid':  f.pwd.errors && f.pwd.touched}">  -->
                  <input class="form-control" required email type="email" formControlName="useremail" name="useremail" placeholder="Email"  [(ngModel)]="currentUser.userEmail" [ngClass]="{ 'is-invalid':  f.useremail.errors && f.useremail.touched}"> 
                  <span class="error-label" *ngIf="f.useremail.errors?.required && f.useremail.touched">Email cannot be empty</span>
                  <span class="error-label" *ngIf="f.useremail.errors?.email && f.useremail.touched">Email is invalid</span>
                </div>
              </div>

              <div *ngIf="passwordSectionIsCollapsed; else passwordSection">
                <div class="form-group" [class.has-error]="f.pwd.invalid && f.pwd.touched" [class.has-success]="f.pwd.valid" >
                  <label class="col-md-12 control-label" for="password">Password:</label>
                  <div class="col-md-12">
                    <input class="form-control" type = "password" formControlName="pwd" name = "pwd" placeholder = "password"  [(ngModel)]="currentUser.stringPassword" [ngClass]="{ 'is-invalid': f.pwd.errors && f.pwd.touched }"  required >
                    <span class="error-label" *ngIf="f.pwd.errors?.required && f.pwd.touched">Password cannot be empty</span>
                  <span class="error-label" *ngIf="f.pwd.errors?.minlength && f.pwd.touched">Password is less than 8 digits</span>
                  </div>
                </div>
                <!-- <div class="col-md-12">
                  <input type="checkbox" class="remember-me" 
                  [(ngModel)]="rememberMe"
                  [ngModelOptions]="{standalone: true}"
                  >
                  <label class="remember-me-label">Remember Me!</label>
                </div>
                <input #buttonLogin class="btn btn-primary" type="submit" value = "Login"> -->
                <div class="col-md-12">
                  <input type="checkbox" class="remember-me" 
                  [(ngModel)]="rememberMe"
                  [ngModelOptions]="{standalone: true}"
                  >
                  <label class="remember-me-label">Remember Me!</label>

                  <a (click)="toggleForgotPasswordSection()" class="forgot-password-label">Forgot Password</a>
                </div>
              
                <input #buttonLogin class="btn btn-primary" type="submit" value = "Login" (click)="onClickSubmit(loginForm.value)" [disabled]="!loginForm.valid">
              </div>

              <ng-template #passwordSection>
                  <input #buttonLogin class="btn btn-primary" type="submit" value = "Reset Password" (click)="forgotPassword()">
              </ng-template>
            
            </form>

            <ng-template #emailSent> 
              <label class="wait-request" *ngIf="resettingPassword && emailNotSent==true">Please wait... </label>
              <label class="resetSuccess" *ngIf="emailNotSent==false">Please check your email to reset password.</label> 
            </ng-template> 

          </div>
        </div>

      </div>
    </div>
  </div>
</div>